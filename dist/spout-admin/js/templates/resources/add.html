<div class="row">
  <ul class="nav nav-tabs">
    <li><h3>Add a {[type.name]} Resource </h3></li>
    <li class="active link" ng-click="submit()">
      <span class="glyphicon glyphicon-ok"></span>
    </li>
    <li class="cancel link" ng-click="close()">
      <span class="glyphicon glyphicon-remove"></span>
    </li>
  </ul>
  <form name="form.resource" novalidate>
    <div class="row">
    <div class="col-md-4">
      <div class="form-group" ng-class="{'has-error': form.resource.title.$invalid}">
        <label for="title">{[type.title_label]}</label>
        <input type="text" ng-model="resource.title" class="form-control" id="title" name="title" placeholder="Must not be blank." required>
        <formfield-error-msg msg="{[type.title_label]} should not be blank" field="form.resource.title" />
      </div>
      <div class="form-group" ng-class="{'has-error': form.resource.slug.$invalid}">
        <label for="slug">Slug</label>
        <input type="text" ng-model="resource.slug" model="resource"  id="slug" class="form-control" name="slug" placeholder="Must be unique for this resource type." required sp-slug-title sp-edit-mode="{[editMode]}">
        <formfield-error-msg msg="Slug should not be blank" field="form.resource.slug" />
      </div>

      <div class="form-group sp-tags" ng-show="type.tags">
        <label>Tags</label>
        <tags-input ng-model="resource.tags" display-property="name">
          <auto-complete source="loadTags($query)"></auto-complete>
        </tags-input>
      </div>

      <div class="form-group" ng-show="type.categories">
        <label>Category</label>
        <input type="text" ng-model="resource.category.search" current-field="resource.category" class="form-control" sp-auto-complete ng-show="!resource.category.title" />

        <div class="alert alert-success alert-dismissable" ng-show="resource.category.title">
          <button type="button" class="close" ng-click="resetCategory()">&times;</button>
          {[resource.category.title]}
        </div>
      </div>


    </div>


    <div class="col-md-8">
      <div ng-repeat="field in type.fields">
        <div sp-field field="field" resource="resource"></div>
      </div>
    </div>
    </div>
  </form>
</div>